<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CASM: /Users/bpuchala/Work/codes/CASMcode_v0.2.X_reference/src/casm/app/update.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CASM
   </div>
   <div id="projectbrief">AClustersApproachtoStatisticalMechanics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('update_8cc_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Modules</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">update.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="update_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_prim_clex_8hh.html">casm/clex/PrimClex.hh</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_configuration_8hh.html">casm/clex/Configuration.hh</a>&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_config_iterator_8hh.html">casm/clex/ConfigIterator.hh</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="json_struc_8hh.html">casm/crystallography/jsonStruc.hh</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_config_selection_8hh.html">casm/clex/ConfigSelection.hh</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_config_mapping_8hh.html">casm/clex/ConfigMapping.hh</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="casm__functions_8hh.html">casm/app/casm_functions.hh</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_handlers_8hh.html">casm/completer/Handlers.hh</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_c_a_s_m.html">CASM</a> {</div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="namespace_c_a_s_m_1_1_update__impl.html">   12</a></span>&#160;  <span class="keyword">namespace </span>Update_impl {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="comment">// record some pieces of data from each import.  These are used to resolve conflicts at the end</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="comment">// the &#39;relaxjson&#39; datarecord stores relaxation properties that will be merged into Configuration::calc_properties() during the final step</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8a2dbc2374c062cba2dffee191859ec25e">   15</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8">DataType</a> {<a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8adad8c4cde34bddd98f7ed9dd7945bbdd">relaxjson</a> = 0, <a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8a2dbc2374c062cba2dffee191859ec25e">self_map</a> = 1, <a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8a2b6ebfc84a8c0746c08ce57477faf081">new_config</a> = 2};</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="namespace_c_a_s_m_1_1_update__impl.html#a51c3220214d8d2ecd891ecbfcd195966">   16</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#a51c3220214d8d2ecd891ecbfcd195966">Data</a> = std::tuple&lt;jsonParser, bool, bool&gt;;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  }</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="keyword">namespace </span>Completer {</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#aed5545eee6c5144e74bfb6e990dfa2a8">   20</a></span>&#160;    <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#aed5545eee6c5144e74bfb6e990dfa2a8">UpdateOption::UpdateOption</a>(): <a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html">OptionHandlerBase</a>(<span class="stringliteral">&quot;update&quot;</span>) {}</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#acdc5f0141cdc2f24279af3a4fa103a7c">   22</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#acdc5f0141cdc2f24279af3a4fa103a7c">UpdateOption::lattice_weight</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#aaa1f41b8534dbe7eca44ca32ff9e2437">m_lattice_weight</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    }</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad99a0e17dc6a57e5725c05c1539c28f9">   26</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad99a0e17dc6a57e5725c05c1539c28f9">UpdateOption::vol_tolerance</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#afdac0daf280737919638ac941b2ff3d5">m_vol_tolerance</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    }</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a62ee921c76f08dd455e2c9888d0c29d7">   30</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a62ee921c76f08dd455e2c9888d0c29d7">UpdateOption::min_va_frac</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#af8ea66bebc52303263eb20bc9a4d2118">m_min_va_frac</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a991c31f3495f343da4520f78f07e9755">   34</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a991c31f3495f343da4520f78f07e9755">UpdateOption::max_va_frac</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ae8a84dbffdc2e2074efef011ecc6b087">m_max_va_frac</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad62beaddae1ec3527869453744cfacf4">   38</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad62beaddae1ec3527869453744cfacf4">UpdateOption::initialize</a>() {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a7685f8e2d38c64ed21e5334bc02dd370">add_help_suboption</a>();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a9411d656591c676f6a16590361a7199b">add_configlist_suboption</a>(<span class="stringliteral">&quot;ALL&quot;</span>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a913f962e2f4e5e6faf5d0bfaafd4e490">m_desc</a>.add_options()</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      (<span class="stringliteral">&quot;cost-weight,w&quot;</span>, po::value&lt;double&gt;(&amp;<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#aaa1f41b8534dbe7eca44ca32ff9e2437">m_lattice_weight</a>)-&gt;default_value(0.5),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;       <span class="stringliteral">&quot;Adjusts cost function for mapping optimization (cost=w*lattice_deformation+(1-w)*basis_deformation)&quot;</span>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      (<span class="stringliteral">&quot;max-vol-change&quot;</span>, po::value&lt;double&gt;(&amp;<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#afdac0daf280737919638ac941b2ff3d5">m_vol_tolerance</a>)-&gt;default_value(0.3),</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;       <span class="stringliteral">&quot;Adjusts range of SCEL volumes searched while mapping imported structure onto ideal crystal (only necessary if the presence of vacancies makes the volume ambiguous). Default is +/- 25% of relaxed_vol/prim_vol. Smaller values yield faster execution, larger values may yield more accurate mapping.&quot;</span>)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      (<span class="stringliteral">&quot;max-va-frac&quot;</span>, po::value&lt;double&gt;(&amp;<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ae8a84dbffdc2e2074efef011ecc6b087">m_max_va_frac</a>)-&gt;default_value(0.5),</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;       <span class="stringliteral">&quot;Places upper bound on the fraction of sites that are allowed to be vacant after relaxed structure is mapped onto the ideal crystal. Smaller values yield faster execution, larger values may yield more accurate mapping. Has no effect if supercell volume can be inferred from the number of atoms in the structure. Default value allows up to 50% of sites to be vacant.&quot;</span>)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      (<span class="stringliteral">&quot;min-va-frac&quot;</span>, po::value&lt;double&gt;(&amp;<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#af8ea66bebc52303263eb20bc9a4d2118">m_min_va_frac</a>)-&gt;default_value(0.),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;       <span class="stringliteral">&quot;Places lower bound on the fraction of sites that are allowed to be vacant after relaxed structure is mapped onto the ideal crystal. Nonzero values may yield faster execution if updating configurations that are known to have a large number of vacancies, at potential sacrifice of mapping accuracy.  Has no effect if supercell volume can be inferred from the number of atoms in the structure. Default value allows as few as 0% of sites to be vacant.&quot;</span>)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      (<span class="stringliteral">&quot;force,f&quot;</span>, <span class="stringliteral">&quot;Force all configurations to update (otherwise, use timestamps to determine which configurations to update)&quot;</span>)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      (<span class="stringliteral">&quot;strict,s&quot;</span>, <span class="stringliteral">&quot;Attempt to import exact configuration.&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// ///////////////////////////////////////</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// &#39;update&#39; function for casm</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="comment">//    (add an &#39;if-else&#39; statement in casm.cpp to call this)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group___a_p_i.html#ga71e58b295d52ad5b709e0210a93605fc">   62</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="group___a_p_i.html#ga71e58b295d52ad5b709e0210a93605fc">update_command</a>(<span class="keyword">const</span> <a class="code" href="struct_c_a_s_m_1_1_command_args.html">CommandArgs</a> &amp;args) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    po::variables_map vm;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="_lattice_enum_equivalents_8cc.html#a2687e4b3cb5da7dbd00e565343f66c6c">tol</a>(<a class="code" href="namespace_c_a_s_m.html#a71b214017b27f6027f6dc8ba848651a7">TOL</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">double</span> vol_tol;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">double</span> lattice_weight;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html">Completer::UpdateOption</a> update_opt;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      po::store(po::parse_command_line(args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a8c2d442fa6f7ff876ca94a465e8d3c91">argc</a>, args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a93d189ed7786e9f554abc538abfd223e">argv</a>, update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a365e7e4d76e343b90ce81d788ca409db">desc</a>()), vm);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="keywordflow">if</span>(vm.count(<span class="stringliteral">&quot;help&quot;</span>)) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a365e7e4d76e343b90ce81d788ca409db">desc</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="keywordflow">if</span>(vm.count(<span class="stringliteral">&quot;desc&quot;</span>)) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a365e7e4d76e343b90ce81d788ca409db">desc</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;DESCRIPTION&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;    Updates all values and files after manual changes or configuration \n&quot;</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;    calculations.\n&quot;</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      po::notify(vm);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      vol_tol = update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad99a0e17dc6a57e5725c05c1539c28f9">vol_tolerance</a>();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      lattice_weight = update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#acdc5f0141cdc2f24279af3a4fa103a7c">lattice_weight</a>();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">catch</span>(po::error &amp;e) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a365e7e4d76e343b90ce81d788ca409db">desc</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">catch</span>(std::exception &amp;e) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a365e7e4d76e343b90ce81d788ca409db">desc</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; <span class="stringliteral">&quot;ERROR: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8ca8df396e95c9bd31111a8ede0ab7ebec4">fs::path</a> &amp;root = args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a559225fbd5e19cd7264f66ce3a47be6b">root</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span>(root.empty()) {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a>.<a class="code" href="class_c_a_s_m_1_1_log.html#aa6313e66e6e36e519783bf14b444cc94">error</a>(<span class="stringliteral">&quot;No casm project found&quot;</span>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="group___a_p_i.html#ga1b3a4d7f7b6f76cc1120b6314747feee">ERR_NO_PROJ</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// If &#39;args.primclex&#39;, use that, else construct PrimClex in &#39;uniq_primclex&#39;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Then whichever exists, store reference in &#39;primclex&#39;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    std::unique_ptr&lt;PrimClex&gt; uniq_primclex;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="class_c_a_s_m_1_1_prim_clex.html">PrimClex</a> &amp;<a class="code" href="settings_8cc.html#a66c1d880cf11001f14ca79b0e88d120b">primclex</a> = <a class="code" href="group___a_p_i.html#gadcface363f8ea6ba055f978e3859397b">make_primclex_if_not</a>(args, uniq_primclex);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="class_c_a_s_m_1_1_config_mapper.html">ConfigMapper</a> configmapper(primclex, lattice_weight, vol_tol, <a class="code" href="group___configuration.html#ggaf7e1d20d624363bdc291bbc700cc5659a17bc3c134922fbce0f7243c26b92715f">ConfigMapper::rotate</a> | <a class="code" href="group___configuration.html#ggaf7e1d20d624363bdc291bbc700cc5659a77598b0898c94cd1ce7113f0d03fe12d">ConfigMapper::robust</a> | (vm.count(<span class="stringliteral">&quot;strict&quot;</span>) ? <a class="code" href="group___configuration.html#ggaf7e1d20d624363bdc291bbc700cc5659a90b3866ba1cf4c9b9641d7f2e23c870e">ConfigMapper::strict</a> : 0), tol);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    configmapper.<a class="code" href="class_c_a_s_m_1_1_config_mapper.html#a4efb0e21e1ba1a7fd2cba62bb4ab7ace">set_min_va_frac</a>(update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a62ee921c76f08dd455e2c9888d0c29d7">min_va_frac</a>());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    configmapper.<a class="code" href="class_c_a_s_m_1_1_config_mapper.html#afed4aeb3cad3c20ee5d9b7482d6dd669">set_max_va_frac</a>(update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a991c31f3495f343da4520f78f07e9755">max_va_frac</a>());</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;Reading calculation data... &quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    std::vector&lt;std::string&gt; bad_config_report;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::vector&lt;std::string&gt; prop_names = primclex.<a class="code" href="group___prim_clex.html#gac7866b063025b7cf756214536ef63ca0">settings</a>().<a class="code" href="class_c_a_s_m_1_1_project_settings.html#a3f97c468f57a0d409387ddf35c1bd54b">properties</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="namespace_c_a_s_m.html#a2eabb1ad1af976fcdef1c92908ad86aa">Index</a> num_updated(0);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    std::map&lt;Configuration *, std::map&lt;Configuration *, Update_impl::Data&gt; &gt; update_map;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// Get configuration selection</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="singleton_c_a_s_m_1_1_config_selection.html">ConfigSelection&lt;false&gt;</a> selection(primclex, update_opt.<a class="code" href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#aff77556298590d2d673c3ae04699faa6">selection_path</a>());</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">auto</span> it =  selection.<a class="code" href="singleton_c_a_s_m_1_1_config_selection.html#a45ef7a664edd3f37e2389ccab1e493e9">selected_config_begin</a>();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keyword">auto</span> end = selection.selected_config_end();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">for</span>(; it != end; ++it) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="comment">//args.log &lt;&lt; &quot;begin Configuration::read_calculated()&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <a class="code" href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8ca8df396e95c9bd31111a8ede0ab7ebec4">fs::path</a> filepath = it-&gt;calc_properties_path();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <span class="comment">// determine if there is fresh data to read and put it in &#39;calc_properties&#39;</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a> parsed_props;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <span class="keywordflow">if</span>(!fs::exists(filepath)) {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span>(it-&gt;calc_properties().<a class="code" href="singleton_c_a_s_m_1_1_config_selection.html#a3e81a1dbe759546bc9dc2f555d7b30e8">size</a>() &gt; 0 &amp;&amp; !(it-&gt;calc_properties().is_null())) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;          <span class="comment">//clear the calculated properties if the data file is missing -- this probably means that the user has deleted it</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;          it-&gt;set_calc_properties(<a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a>());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        time_t datatime(0), filetime(fs::last_write_time(filepath));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="comment">// Compare &#39;datatime&#39;, from config_list database to &#39;filetime&#39;, from filesystem timestamp</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        it-&gt;calc_properties().get_if(datatime, <span class="stringliteral">&quot;data_timestamp&quot;</span>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span>(!vm.count(<span class="stringliteral">&quot;force&quot;</span>) &amp;&amp; filetime == datatime) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        it-&gt;set_calc_properties(<a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a>());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        num_updated++;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;***************************&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;Working on &quot;</span> &lt;&lt; filepath.string() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordtype">bool</span> new_config_flag;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        std::string imported_name;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;          <span class="comment">//json relax_data;</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          it-&gt;read_calc_properties(parsed_props);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">catch</span>(std::exception &amp;e) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; <span class="stringliteral">&quot;\nError: Unable to read properties.calc.json&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="group___a_p_i.html#gacab4217fdc9b38af93faf17a07e4040c">ERR_INVALID_INPUT_FILE</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          <span class="comment">//Convert relaxed structure into a configuration, merge calculation data</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          <a class="code" href="singleton_c_a_s_m_1_1_basic_structure.html">BasicStructure&lt;Site&gt;</a> relaxed_struc;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;          <a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a> json(filepath);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;          <a class="code" href="group___project.html#gaabc5891f07bb0c7993904d0b34e5349e">from_json</a>(<a class="code" href="namespace_c_a_s_m.html#a26cd52a7bbeefed065acb152e91bfedc">simple_json</a>(relaxed_struc, <span class="stringliteral">&quot;relaxed_&quot;</span>), json);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          std::vector&lt;Index&gt; best_assignment;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          <a class="code" href="namespace_c_a_s_m.html#a49ea99ea10cf0518ae13dddffa80335b">Eigen::Matrix3d</a> cart_op;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          <span class="comment">//NOTE: reusing jsonParser to collect relaxation data</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          json.<a class="code" href="class_c_a_s_m_1_1json_parser.html#a61aef0f7069782ef911f8882ac336e78">put_obj</a>();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">if</span>(vm.count(<span class="stringliteral">&quot;strict&quot;</span>)) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;              new_config_flag = configmapper.<a class="code" href="class_c_a_s_m_1_1_config_mapper.html#a66d032b22fafd4d39ae796518ece48cb">import_structure</a>(relaxed_struc,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                                              imported_name,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                              json,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                              best_assignment,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                              cart_op);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;              new_config_flag = configmapper.<a class="code" href="class_c_a_s_m_1_1_config_mapper.html#a026d983b2cbfa910963390bd85413c73">import_structure_occupation</a>(relaxed_struc,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                                                         &amp;(*it),</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                                         imported_name,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                                         json,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                                         best_assignment,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                                         cart_op);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <span class="keywordflow">catch</span>(std::exception &amp;e) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">err_log</a> &lt;&lt; <span class="stringliteral">&quot;\nError: Unable to map relaxed structure data contained in &quot;</span> &lt;&lt; filepath &lt;&lt; <span class="stringliteral">&quot; onto PRIM.\n&quot;</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                         &lt;&lt; <span class="stringliteral">&quot;       &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="comment">//throw std::runtime_error(std::string(&quot;Unable to map relaxed structure data contained in &quot;) + filepath.string() + &quot; onto PRIM.\n&quot;);</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          <span class="comment">//copy data over</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          <span class="keywordflow">if</span>(imported_name != it-&gt;<a class="code" href="singleton_c_a_s_m_1_1_config_selection.html#a82d414b60e5c65b6e1c50e9c4eed9437">name</a>() &amp;&amp; json.<a class="code" href="class_c_a_s_m_1_1json_parser.html#a277aaf3d3e9512db905a5c4c1bd25066">contains</a>(<span class="stringliteral">&quot;suggested_mapping&quot;</span>)) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keyword">auto</span> j_it(json[<span class="stringliteral">&quot;suggested_mapping&quot;</span>].cbegin()), j_end(json[<span class="stringliteral">&quot;suggested_mapping&quot;</span>].cend());</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">for</span>(; j_it != j_end; ++j_it) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;              parsed_props[j_it.name()] = *j_it;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            update_map[&amp;(*it)][&amp;(*it)] = <a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#a51c3220214d8d2ecd891ecbfcd195966">Update_impl::Data</a>(parsed_props, <span class="keyword">false</span>, new_config_flag);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;          <a class="code" href="class_c_a_s_m_1_1_configuration.html">Configuration</a> &amp;imported_config = primclex.<a class="code" href="group___prim_clex.html#ga335438c034e41233c03519a7fa6d18e7">configuration</a>(imported_name);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          <span class="keyword">auto</span> j_it(json[<span class="stringliteral">&quot;best_mapping&quot;</span>].cbegin()), j_end(json[<span class="stringliteral">&quot;best_mapping&quot;</span>].cend());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          <span class="keywordflow">for</span>(; j_it != j_end; ++j_it) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            parsed_props[j_it.name()] = *j_it;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;          update_map[&amp;imported_config][&amp;(*it)] = <a class="code" href="namespace_c_a_s_m_1_1_update__impl.html#a51c3220214d8d2ecd891ecbfcd195966">Update_impl::Data</a>(parsed_props, it-&gt;<a class="code" href="singleton_c_a_s_m_1_1_config_selection.html#a82d414b60e5c65b6e1c50e9c4eed9437">name</a>() == imported_name, new_config_flag);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// Now loop over update_map to construct a relaxation report and record calculation data appropriately</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">double</span> w = lattice_weight;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    std::stringstream relax_log;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> it = update_map.begin(); it != update_map.end(); ++it) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="class_c_a_s_m_1_1_configuration.html">Configuration</a> &amp;imported_config = *(it-&gt;first);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      std::map&lt;Configuration *, Update_impl::Data&gt; &amp;datamap(it-&gt;second);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordtype">bool</span> self_mapped(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="keywordtype">double</span> lowest_energy(<a class="code" href="namespace_c_a_s_m.html#afc25aa6ab9114d01443ecf95d470e079">std::numeric_limits&lt;double&gt;::max</a>());</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      std::map&lt;Configuration *, Update_impl::Data&gt;::iterator best_it;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordtype">double</span> best_cost(1e20);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="comment">//enum DataType {name = 0, relaxjson = 1, self_map = 2};</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      std::vector&lt;std::string&gt; report;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span> it2 = datamap.begin(); it2 != datamap.end(); ++it2) {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        std::stringstream t_ss;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">//if(imported_config.name() == it-&gt;name()) {</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="comment">//it-&gt;set_calc_properties(parsed_props);</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">//continue;</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">//}</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="class_c_a_s_m_1_1_configuration.html">Configuration</a> &amp;source_config(*(it2-&gt;first));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keyword">const</span> <a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a> &amp;source_data(std::get&lt;Update_impl::relaxjson&gt;(it2-&gt;second));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span>(&amp;source_config == &amp;imported_config) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          self_mapped = std::get&lt;Update_impl::self_map&gt;(it2-&gt;second);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <span class="comment">// Note the instability:</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          source_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a4ca5dfdae38e63eec858ed5d6e2a8ac1">push_back_source</a>(<a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a>(<span class="stringliteral">&quot;mechanically_unstable&quot;</span>));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          source_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a4ca5dfdae38e63eec858ed5d6e2a8ac1">push_back_source</a>(<a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a>(std::make_pair(<span class="stringliteral">&quot;relaxed_to&quot;</span>, imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>())));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;          imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a4ca5dfdae38e63eec858ed5d6e2a8ac1">push_back_source</a>(<a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a>(std::make_pair(<span class="stringliteral">&quot;relaxation_of&quot;</span>, source_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>())));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">double</span> bd = source_data[<span class="stringliteral">&quot;basis_deformation&quot;</span>].<a class="code" href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">get</a>&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordtype">double</span> ld = source_data[<span class="stringliteral">&quot;lattice_deformation&quot;</span>].<a class="code" href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">get</a>&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordtype">double</span> tcost = w * ld + (1.0 - w) * bd;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">if</span>(tcost &lt; best_cost) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          best_cost = tcost;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          best_it = it2;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        t_ss &lt;&lt; <span class="stringliteral">&quot;Starting configuration &quot;</span> &lt;&lt; source_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        t_ss &lt;&lt; <span class="stringliteral">&quot;                  Result of mapping relaxation onto &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        t_ss &lt;&lt; <span class="stringliteral">&quot;                    -- lattice_deformation = &quot;</span> &lt;&lt; ld &lt;&lt; <span class="stringliteral">&quot;;  basis_deformation = &quot;</span> &lt;&lt; bd &lt;&lt; <span class="stringliteral">&quot;;  weighted_avg = &quot;</span> &lt;&lt; tcost &lt;&lt; std::endl;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span>(&amp;source_config != &amp;imported_config) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;          <a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a> <span class="keyword">const</span> &amp;alt_data(std::get&lt;Update_impl::relaxjson&gt;(update_map[&amp;source_config][&amp;source_config]));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;          bd = alt_data[<span class="stringliteral">&quot;basis_deformation&quot;</span>].<a class="code" href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">get</a>&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;          ld = alt_data[<span class="stringliteral">&quot;lattice_deformation&quot;</span>].<a class="code" href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">get</a>&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          tcost = w * ld + (1.0 - w) * bd;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          t_ss &lt;&lt; <span class="stringliteral">&quot;                  Result of mapping relaxation onto &quot;</span> &lt;&lt;  source_config.name() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          t_ss &lt;&lt; <span class="stringliteral">&quot;                    -- lattice_deformation = &quot;</span> &lt;&lt; ld &lt;&lt; <span class="stringliteral">&quot;;  basis_deformation = &quot;</span> &lt;&lt; bd &lt;&lt; <span class="stringliteral">&quot;;  weighted_avg = &quot;</span> &lt;&lt; tcost &lt;&lt; std::endl;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span>(source_data.<a class="code" href="class_c_a_s_m_1_1json_parser.html#a277aaf3d3e9512db905a5c4c1bd25066">contains</a>(<span class="stringliteral">&quot;relaxed_energy&quot;</span>)) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;          <span class="keywordtype">double</span> <a class="code" href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8cacb14932e4109b45b634feafaa3d21101">energy</a> = source_data[<span class="stringliteral">&quot;relaxed_energy&quot;</span>].<a class="code" href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">get</a>&lt;<span class="keywordtype">double</span>&gt;();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;          <span class="keywordflow">if</span>(energy &lt; lowest_energy)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            lowest_energy = <a class="code" href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8cacb14932e4109b45b634feafaa3d21101">energy</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          t_ss &lt;&lt; <span class="stringliteral">&quot;                    -- relaxed_energy = &quot;</span> &lt;&lt; source_data[<span class="stringliteral">&quot;relaxed_energy&quot;</span>].<a class="code" href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">get</a>&lt;<span class="keywordtype">double</span>&gt;() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          t_ss &lt;&lt; <span class="stringliteral">&quot;                    -- relaxed_energy = unknown&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        report.push_back(t_ss.str());</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="namespace_c_a_s_m.html#a2eabb1ad1af976fcdef1c92908ad86aa">Index</a> best_ind(std::distance(datamap.begin(), best_it));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span>(datamap.size() &gt; 1 || (!self_mapped &amp;&amp; datamap.find(&amp;imported_config) == datamap.end())) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        relax_log &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; datamap.size() &lt;&lt; <span class="stringliteral">&quot; structure&quot;</span> &lt;&lt; (datamap.size() &gt; 1 ? <span class="stringliteral">&quot;s have&quot;</span> : <span class="stringliteral">&quot; has&quot;</span>) &lt;&lt;  <span class="stringliteral">&quot; mapped onto Configuration &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>()</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot;, which &quot;</span> &lt;&lt; (std::get&lt;Update_impl::new_config&gt;(datamap.cbegin()-&gt;second)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                    ? <span class="stringliteral">&quot;has been automatically added to your project&quot;</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                    : <span class="stringliteral">&quot;already existed in your project&quot;</span>)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                  &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">for</span>(<a class="code" href="namespace_c_a_s_m.html#a2eabb1ad1af976fcdef1c92908ad86aa">Index</a> i = 0; i &lt; report.size(); i++) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          <span class="keywordflow">if</span>(i == best_ind) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            relax_log &lt;&lt; <span class="stringliteral">&quot;    best ==&gt; &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; report[i] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            relax_log &lt;&lt; <span class="stringliteral">&quot;              &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot;) &quot;</span> &lt;&lt; report[i] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="comment">// if imported_config has no properties, copy properties from best config</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <a class="code" href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8ca8df396e95c9bd31111a8ede0ab7ebec4">fs::path</a> filepath((best_it-&gt;first)-&gt;calc_properties_path());</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a> &amp;parsed_props(std::get&lt;Update_impl::relaxjson&gt;(best_it-&gt;second));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">if</span>(!fs::exists(imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#aaeb22f69ffc6c807a40d26375eff00bd">calc_properties_path</a>())</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;           &amp;&amp; (imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a52264ec5af1220430d8fe6993919bf84">calc_properties</a>().<a class="code" href="class_c_a_s_m_1_1json_parser.html#a99cf857e60e7952441238a6f656d3624">is_null</a>() || imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a52264ec5af1220430d8fe6993919bf84">calc_properties</a>().<a class="code" href="class_c_a_s_m_1_1json_parser.html#a8c2c2e5eb2b08c3e977b468f85a8abd0">size</a>() == 0)) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          relax_log &lt;&lt; <span class="stringliteral">&quot;  Because no calculation data exists for configuration &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot;,\n&quot;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;  it will acquire the data from &quot;</span> &lt;&lt; filepath &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          <span class="keywordflow">if</span>(!fs::exists(imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a00057640cc88a63a85530e79ee094396">get_pos_path</a>()))</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            primclex.<a class="code" href="group___prim_clex.html#ga335438c034e41233c03519a7fa6d18e7">configuration</a>(imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>()).write_pos();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          <a class="code" href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8ca8df396e95c9bd31111a8ede0ab7ebec4">fs::path</a> import_target = imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#aaeb22f69ffc6c807a40d26375eff00bd">calc_properties_path</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          import_target.remove_filename();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <span class="keywordflow">if</span>(!fs::exists(import_target))</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            fs::create_directories(import_target);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          <span class="comment">//relax_log &lt;&lt; &quot;New file path is &quot; &lt;&lt; import_target &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          <span class="comment">//fs::copy_file(filepath, imported_config.calc_properties_path());</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          <span class="comment">//parsed_props[&quot;data_timestamp&quot;] = fs::last_write_time(imported_config.calc_properties_path());</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a0afdbb2143ca3487e86e2a6089384687">set_calc_properties</a>(parsed_props);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a4ca5dfdae38e63eec858ed5d6e2a8ac1">push_back_source</a>(<a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a>(std::make_pair(<span class="stringliteral">&quot;data_inferred_from_mapping&quot;</span>, (best_it-&gt;first)-&gt;name())));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="comment">// prior data exist -- we won&#39;t copy data over, but do some validation to see if data are compatible</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          relax_log &lt;&lt; <span class="stringliteral">&quot;  There is already data associated with &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot; -- it will not be overwritten.\n\n&quot;</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          <span class="keyword">const</span> <a class="code" href="class_c_a_s_m_1_1json_parser.html">jsonParser</a> &amp;extant_props = imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a52264ec5af1220430d8fe6993919bf84">calc_properties</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keywordtype">bool</span> data_mismatch = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          <span class="keyword">auto</span> prop_it = extant_props.<a class="code" href="class_c_a_s_m_1_1json_parser.html#a4163fc18f954885bd85ff10aede1e708">cbegin</a>(), prop_end = extant_props.<a class="code" href="class_c_a_s_m_1_1json_parser.html#ae37c8e71df26c8b6f037d8fa4d1e02f7">cend</a>();</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;          <span class="keywordflow">for</span>(; prop_it != prop_end; ++prop_it) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">if</span>(!parsed_props.contains(prop_it.name())) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;              data_mismatch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="comment">// Try to ensure that the property is some sort of energy and convertible to scalar</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">if</span>(!prop_it-&gt;is_number() || (prop_it.name()).<a class="code" href="namespace_c_a_s_m.html#ab1b9b10d35b01c7cd7fda38f5a7761a2">find</a>(<span class="stringliteral">&quot;energy&quot;</span>) == std::string::npos)</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="namespace_c_a_s_m.html#abc7407d254ef7d8c51af891b1a90c3f3">almost_equal</a>(prop_it-&gt;get&lt;<span class="keywordtype">double</span>&gt;(), parsed_props[prop_it.name()].get&lt;<span class="keywordtype">double</span>&gt;(), 1e-4)) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;              <span class="keywordflow">if</span>(parsed_props[prop_it.name()].get&lt;<span class="keywordtype">double</span>&gt;() &lt; prop_it-&gt;get&lt;<span class="keywordtype">double</span>&gt;()) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                relax_log &lt;&lt; <span class="stringliteral">&quot;\n     WARNING: Mapped configuration &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot; has \n&quot;</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;                    &quot;</span> &lt;&lt; prop_it.name() &lt;&lt; <span class="stringliteral">&quot;=&quot;</span> &lt;&lt; prop_it-&gt;get&lt;<span class="keywordtype">double</span>&gt;() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;         Which is higher than the relaxed value for mechanically unstable configuration &quot;</span> &lt;&lt; (best_it-&gt;first)-&gt;name() &lt;&lt; <span class="stringliteral">&quot; which is\n&quot;</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;                    &quot;</span> &lt;&lt; prop_it.name() &lt;&lt; <span class="stringliteral">&quot;=&quot;</span> &lt;&lt; parsed_props[prop_it.name()].get&lt;<span class="keywordtype">double</span>&gt;() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;         This suggests that &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot; may be a metastable minimum.  Please investigate further.\n&quot;</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;              }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;              data_mismatch = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          <span class="keywordflow">if</span>(data_mismatch)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            relax_log &lt;&lt; <span class="stringliteral">&quot;       WARNING: There are calculated properties from \n&quot;</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;             &quot;</span> &lt;&lt; filepath &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;         that do not match existing calculations for configuration &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot; (they differ by more than 1E-04)\n&quot;</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;         even though &quot;</span> &lt;&lt; (best_it-&gt;first)-&gt;name() &lt;&lt; <span class="stringliteral">&quot; was found to relax to &quot;</span> &lt;&lt; imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">name</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        relax_log &lt;&lt; <span class="stringliteral">&quot;\n          ----------------------------------------------\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">if</span>(self_mapped &amp;&amp; datamap.find(&amp;imported_config) != datamap.end())</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a0afdbb2143ca3487e86e2a6089384687">set_calc_properties</a>(std::get&lt;Update_impl::relaxjson&gt;(datamap[&amp;imported_config]));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(self_mapped) { <span class="comment">//don&#39;t report anything, just record the data</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        imported_config.<a class="code" href="class_c_a_s_m_1_1_configuration.html#a0afdbb2143ca3487e86e2a6089384687">set_calc_properties</a>(std::get&lt;Update_impl::relaxjson&gt;(best_it-&gt;second));</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        <span class="comment">//relax_log &lt;&lt; &quot;Starting configuration &quot; &lt;&lt; source_config.name() &lt;&lt; &quot; is mechanically unstable.\n&quot;;</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="comment">//relax_log &lt;&lt; &quot;\n          ----------------------------------------------\n&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;***************************&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;  DONE: &quot;</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span>(num_updated == 0)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt;  <span class="stringliteral">&quot;No new data were detected.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;Analyzed new data for &quot;</span> &lt;&lt; num_updated &lt;&lt; <span class="stringliteral">&quot; configurations.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">if</span>(relax_log.str().size() &gt; 0) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;WARNING: Abnormal relaxations were detected:\n&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;           *** Final Relaxation Report ***&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                 &lt;&lt; relax_log.str()</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                 &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;\nIt is recommended that you review these configurations more carefully.\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;Writing to SCEL database...&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      primclex.<a class="code" href="group___prim_clex.html#gad4de87bde2054f611b2c8904b35bb374">print_supercells</a>();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      args.<a class="code" href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">log</a> &lt;&lt; <span class="stringliteral">&quot;Writing to configuration database...&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      primclex.<a class="code" href="group___prim_clex.html#gaf5b0f723a264998900f381b39b4d135b">write_config_list</a>();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="ttc" id="struct_c_a_s_m_1_1_command_args_html"><div class="ttname"><a href="struct_c_a_s_m_1_1_command_args.html">CASM::CommandArgs</a></div><div class="ttdoc">Data structure holding basic CASM command info. </div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00070">casm_functions.hh:70</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_import__impl_html_a9ba4c7572b4f76374009b80af84a3d8cacb14932e4109b45b634feafaa3d21101"><div class="ttname"><a href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8cacb14932e4109b45b634feafaa3d21101">CASM::Import_impl::energy</a></div><div class="ttdef"><b>Definition:</b> <a href="import_8cc_source.html#l00016">import.cc:16</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html_a8c2c2e5eb2b08c3e977b468f85a8abd0"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html#a8c2c2e5eb2b08c3e977b468f85a8abd0">CASM::jsonParser::size</a></div><div class="ttdeci">size_type size() const </div><div class="ttdoc">Returns array size if *this is a JSON array, object size if *this is a JSON object, 1 otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8cc_source.html#l00430">jsonParser.cc:430</a></div></div>
<div class="ttc" id="group___configuration_html_ggaf7e1d20d624363bdc291bbc700cc5659a17bc3c134922fbce0f7243c26b92715f"><div class="ttname"><a href="group___configuration.html#ggaf7e1d20d624363bdc291bbc700cc5659a17bc3c134922fbce0f7243c26b92715f">CASM::ConfigMapper::rotate</a></div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8hh_source.html#l00022">ConfigMapping.hh:22</a></div></div>
<div class="ttc" id="group___a_p_i_html_ga71e58b295d52ad5b709e0210a93605fc"><div class="ttname"><a href="group___a_p_i.html#ga71e58b295d52ad5b709e0210a93605fc">CASM::update_command</a></div><div class="ttdeci">int update_command(const CommandArgs &amp;args)</div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00062">update.cc:62</a></div></div>
<div class="ttc" id="group___prim_clex_html_gaf5b0f723a264998900f381b39b4d135b"><div class="ttname"><a href="group___prim_clex.html#gaf5b0f723a264998900f381b39b4d135b">CASM::PrimClex::write_config_list</a></div><div class="ttdeci">void write_config_list(std::set&lt; std::string &gt; scel_to_delete={})</div><div class="ttdef"><b>Definition:</b> <a href="_prim_clex_8cc_source.html#l00450">PrimClex.cc:450</a></div></div>
<div class="ttc" id="group___project_html_gaabc5891f07bb0c7993904d0b34e5349e"><div class="ttname"><a href="group___project.html#gaabc5891f07bb0c7993904d0b34e5349e">CASM::from_json</a></div><div class="ttdeci">void from_json(ClexDescription &amp;desc, const jsonParser &amp;json)</div><div class="ttdef"><b>Definition:</b> <a href="_project_settings_8cc_source.html#l00066">ProjectSettings.cc:66</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_update__impl_html_ab464dce71f920dade14b4c94811cd5e8a2dbc2374c062cba2dffee191859ec25e"><div class="ttname"><a href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8a2dbc2374c062cba2dffee191859ec25e">CASM::Update_impl::self_map</a></div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00015">update.cc:15</a></div></div>
<div class="ttc" id="singleton_c_a_s_m_1_1_config_selection_html"><div class="ttname"><a href="singleton_c_a_s_m_1_1_config_selection.html">CASM::ConfigSelection</a></div><div class="ttdef"><b>Definition:</b> <a href="_project_settings_8hh_source.html#l00023">ProjectSettings.hh:23</a></div></div>
<div class="ttc" id="struct_c_a_s_m_1_1_command_args_html_ae7a8a0d7454772c8095e30d7a555edad"><div class="ttname"><a href="struct_c_a_s_m_1_1_command_args.html#ae7a8a0d7454772c8095e30d7a555edad">CASM::CommandArgs::log</a></div><div class="ttdeci">Log &amp; log</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00115">casm_functions.hh:115</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_update__impl_html_ab464dce71f920dade14b4c94811cd5e8"><div class="ttname"><a href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8">CASM::Update_impl::DataType</a></div><div class="ttdeci">DataType</div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00015">update.cc:15</a></div></div>
<div class="ttc" id="settings_8cc_html_a66c1d880cf11001f14ca79b0e88d120b"><div class="ttname"><a href="settings_8cc.html#a66c1d880cf11001f14ca79b0e88d120b">primclex</a></div><div class="ttdeci">PrimClex * primclex</div><div class="ttdef"><b>Definition:</b> <a href="settings_8cc_source.html#l00101">settings.cc:101</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html_aaeb22f69ffc6c807a40d26375eff00bd"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html#aaeb22f69ffc6c807a40d26375eff00bd">CASM::Configuration::calc_properties_path</a></div><div class="ttdeci">fs::path calc_properties_path() const </div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8cc_source.html#l01114">Configuration.cc:1114</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_option_handler_base_html_a7685f8e2d38c64ed21e5334bc02dd370"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a7685f8e2d38c64ed21e5334bc02dd370">CASM::Completer::OptionHandlerBase::add_help_suboption</a></div><div class="ttdeci">void add_help_suboption()</div><div class="ttdoc">Add a plain help suboption. </div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8cc_source.html#l00276">Handlers.cc:276</a></div></div>
<div class="ttc" id="singleton_c_a_s_m_1_1_config_selection_html_a45ef7a664edd3f37e2389ccab1e493e9"><div class="ttname"><a href="singleton_c_a_s_m_1_1_config_selection.html#a45ef7a664edd3f37e2389ccab1e493e9">CASM::ConfigSelection::selected_config_begin</a></div><div class="ttdeci">iterator selected_config_begin()</div><div class="ttdef"><b>Definition:</b> <a href="_config_selection_8hh_source.html#l00188">ConfigSelection.hh:188</a></div></div>
<div class="ttc" id="singleton_c_a_s_m_1_1_basic_structure_html"><div class="ttname"><a href="singleton_c_a_s_m_1_1_basic_structure.html">CASM::BasicStructure&lt; Site &gt;</a></div></div>
<div class="ttc" id="struct_c_a_s_m_1_1_command_args_html_a93d189ed7786e9f554abc538abfd223e"><div class="ttname"><a href="struct_c_a_s_m_1_1_command_args.html#a93d189ed7786e9f554abc538abfd223e">CASM::CommandArgs::argv</a></div><div class="ttdeci">char ** argv</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00112">casm_functions.hh:112</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_ae8a84dbffdc2e2074efef011ecc6b087"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ae8a84dbffdc2e2074efef011ecc6b087">CASM::Completer::UpdateOption::m_max_va_frac</a></div><div class="ttdeci">double m_max_va_frac</div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00780">Handlers.hh:780</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html_a4ca5dfdae38e63eec858ed5d6e2a8ac1"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html#a4ca5dfdae38e63eec858ed5d6e2a8ac1">CASM::Configuration::push_back_source</a></div><div class="ttdeci">void push_back_source(const jsonParser &amp;source)</div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8cc_source.html#l00081">Configuration.cc:81</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_config_mapper_html_a66d032b22fafd4d39ae796518ece48cb"><div class="ttname"><a href="class_c_a_s_m_1_1_config_mapper.html#a66d032b22fafd4d39ae796518ece48cb">CASM::ConfigMapper::import_structure</a></div><div class="ttdeci">bool import_structure(const fs::path &amp;pos_path, std::string &amp;imported_name, jsonParser &amp;relaxation_properties, std::vector&lt; Index &gt; &amp;best_assignment, Eigen::Matrix3d &amp;cart_op) const </div><div class="ttdoc">imports structure specified by &#39;pos_path&#39; into primclex() by finding optimal mapping unlike import_st...</div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8cc_source.html#l00289">ConfigMapping.cc:289</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_aed5545eee6c5144e74bfb6e990dfa2a8"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#aed5545eee6c5144e74bfb6e990dfa2a8">CASM::Completer::UpdateOption::UpdateOption</a></div><div class="ttdeci">UpdateOption()</div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00020">update.cc:20</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_afdac0daf280737919638ac941b2ff3d5"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#afdac0daf280737919638ac941b2ff3d5">CASM::Completer::UpdateOption::m_vol_tolerance</a></div><div class="ttdeci">double m_vol_tolerance</div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00774">Handlers.hh:774</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_option_handler_base_html_a9411d656591c676f6a16590361a7199b"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a9411d656591c676f6a16590361a7199b">CASM::Completer::OptionHandlerBase::add_configlist_suboption</a></div><div class="ttdeci">void add_configlist_suboption(const fs::path &amp;_default=&quot;MASTER&quot;)</div><div class="ttdoc">Add config suboption (defaults to MASTER) </div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8cc_source.html#l00238">Handlers.cc:238</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html"><div class="ttname"><a href="namespace_c_a_s_m.html">CASM</a></div><div class="ttdoc">Main CASM namespace. </div><div class="ttdef"><b>Definition:</b> <a href="complete_8cpp_source.html#l00008">complete.cpp:8</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_a71b214017b27f6027f6dc8ba848651a7"><div class="ttname"><a href="namespace_c_a_s_m.html#a71b214017b27f6027f6dc8ba848651a7">CASM::TOL</a></div><div class="ttdeci">const double TOL</div><div class="ttdef"><b>Definition:</b> <a href="_c_a_s_m__global__definitions_8hh_source.html#l00031">CASM_global_definitions.hh:31</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html_ae37c8e71df26c8b6f037d8fa4d1e02f7"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html#ae37c8e71df26c8b6f037d8fa4d1e02f7">CASM::jsonParser::cend</a></div><div class="ttdeci">const_iterator cend() const </div><div class="ttdoc">Returns const_iterator to end of JSON object or JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8cc_source.html#l00480">jsonParser.cc:480</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_option_handler_base_html_aff77556298590d2d673c3ae04699faa6"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#aff77556298590d2d673c3ae04699faa6">CASM::Completer::OptionHandlerBase::selection_path</a></div><div class="ttdeci">const fs::path &amp; selection_path() const </div><div class="ttdoc">Returns the string corresponding to add_config_suboption() </div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8cc_source.html#l00168">Handlers.cc:168</a></div></div>
<div class="ttc" id="_config_mapping_8hh_html"><div class="ttname"><a href="_config_mapping_8hh.html">ConfigMapping.hh</a></div></div>
<div class="ttc" id="group__json_parser_html_ga53db9eb50677270cc63012974317fb3a"><div class="ttname"><a href="group__json_parser.html#ga53db9eb50677270cc63012974317fb3a">CASM::jsonParser::get</a></div><div class="ttdeci">T get(Args...args) const </div><div class="ttdoc">Get data from json, using one of several alternatives. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8hh_source.html#l00729">jsonParser.hh:729</a></div></div>
<div class="ttc" id="_configuration_8hh_html"><div class="ttname"><a href="_configuration_8hh.html">Configuration.hh</a></div></div>
<div class="ttc" id="struct_c_a_s_m_1_1_command_args_html_a8c2d442fa6f7ff876ca94a465e8d3c91"><div class="ttname"><a href="struct_c_a_s_m_1_1_command_args.html#a8c2d442fa6f7ff876ca94a465e8d3c91">CASM::CommandArgs::argc</a></div><div class="ttdeci">int argc</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00111">casm_functions.hh:111</a></div></div>
<div class="ttc" id="_lattice_enum_equivalents_8cc_html_a2687e4b3cb5da7dbd00e565343f66c6c"><div class="ttname"><a href="_lattice_enum_equivalents_8cc.html#a2687e4b3cb5da7dbd00e565343f66c6c">tol</a></div><div class="ttdeci">double tol</div><div class="ttdef"><b>Definition:</b> <a href="_lattice_enum_equivalents_8cc_source.html#l00021">LatticeEnumEquivalents.cc:21</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html">CASM::jsonParser</a></div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8hh_source.html#l00078">jsonParser.hh:78</a></div></div>
<div class="ttc" id="struct_c_a_s_m_1_1_command_args_html_a06770887fb577069b999193fbee3b15d"><div class="ttname"><a href="struct_c_a_s_m_1_1_command_args.html#a06770887fb577069b999193fbee3b15d">CASM::CommandArgs::err_log</a></div><div class="ttdeci">Log &amp; err_log</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00116">casm_functions.hh:116</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_project_settings_html_a3f97c468f57a0d409387ddf35c1bd54b"><div class="ttname"><a href="class_c_a_s_m_1_1_project_settings.html#a3f97c468f57a0d409387ddf35c1bd54b">CASM::ProjectSettings::properties</a></div><div class="ttdeci">const std::vector&lt; std::string &gt; &amp; properties() const </div><div class="ttdoc">Get current properties. </div><div class="ttdef"><b>Definition:</b> <a href="_project_settings_8cc_source.html#l00477">ProjectSettings.cc:477</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_af8ea66bebc52303263eb20bc9a4d2118"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#af8ea66bebc52303263eb20bc9a4d2118">CASM::Completer::UpdateOption::m_min_va_frac</a></div><div class="ttdeci">double m_min_va_frac</div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00778">Handlers.hh:778</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html_a52264ec5af1220430d8fe6993919bf84"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html#a52264ec5af1220430d8fe6993919bf84">CASM::Configuration::calc_properties</a></div><div class="ttdeci">const Properties &amp; calc_properties() const </div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8cc_source.html#l00674">Configuration.cc:674</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html_a99cf857e60e7952441238a6f656d3624"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html#a99cf857e60e7952441238a6f656d3624">CASM::jsonParser::is_null</a></div><div class="ttdeci">bool is_null() const </div><div class="ttdoc">Check if null type. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8cc_source.html#l00251">jsonParser.cc:251</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_option_handler_base_html_a365e7e4d76e343b90ce81d788ca409db"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a365e7e4d76e343b90ce81d788ca409db">CASM::Completer::OptionHandlerBase::desc</a></div><div class="ttdeci">const po::options_description &amp; desc()</div><div class="ttdoc">Get the program options, filled with the initialized values. </div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8cc_source.html#l00160">Handlers.cc:160</a></div></div>
<div class="ttc" id="group___configuration_html_ggaf7e1d20d624363bdc291bbc700cc5659a77598b0898c94cd1ce7113f0d03fe12d"><div class="ttname"><a href="group___configuration.html#ggaf7e1d20d624363bdc291bbc700cc5659a77598b0898c94cd1ce7113f0d03fe12d">CASM::ConfigMapper::robust</a></div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8hh_source.html#l00024">ConfigMapping.hh:24</a></div></div>
<div class="ttc" id="_prim_clex_8hh_html"><div class="ttname"><a href="_prim_clex_8hh.html">PrimClex.hh</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html_a00057640cc88a63a85530e79ee094396"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html#a00057640cc88a63a85530e79ee094396">CASM::Configuration::get_pos_path</a></div><div class="ttdeci">fs::path get_pos_path() const </div><div class="ttdoc">Path to various files. </div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8cc_source.html#l01104">Configuration.cc:1104</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html">CASM::Completer::UpdateOption</a></div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00752">Handlers.hh:752</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_aaa1f41b8534dbe7eca44ca32ff9e2437"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#aaa1f41b8534dbe7eca44ca32ff9e2437">CASM::Completer::UpdateOption::m_lattice_weight</a></div><div class="ttdeci">double m_lattice_weight</div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00776">Handlers.hh:776</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_acdc5f0141cdc2f24279af3a4fa103a7c"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#acdc5f0141cdc2f24279af3a4fa103a7c">CASM::Completer::UpdateOption::lattice_weight</a></div><div class="ttdeci">double lattice_weight() const </div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00022">update.cc:22</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_config_mapper_html_a4efb0e21e1ba1a7fd2cba62bb4ab7ace"><div class="ttname"><a href="class_c_a_s_m_1_1_config_mapper.html#a4efb0e21e1ba1a7fd2cba62bb4ab7ace">CASM::ConfigMapper::set_min_va_frac</a></div><div class="ttdeci">void set_min_va_frac(double _min_va)</div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8hh_source.html#l00090">ConfigMapping.hh:90</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_a2eabb1ad1af976fcdef1c92908ad86aa"><div class="ttname"><a href="namespace_c_a_s_m.html#a2eabb1ad1af976fcdef1c92908ad86aa">CASM::Index</a></div><div class="ttdeci">EigenIndex Index</div><div class="ttdoc">For long integer indexing: </div><div class="ttdef"><b>Definition:</b> <a href="_c_a_s_m__global__definitions_8hh_source.html#l00054">CASM_global_definitions.hh:54</a></div></div>
<div class="ttc" id="group___configuration_html_ggaf7e1d20d624363bdc291bbc700cc5659a90b3866ba1cf4c9b9641d7f2e23c870e"><div class="ttname"><a href="group___configuration.html#ggaf7e1d20d624363bdc291bbc700cc5659a90b3866ba1cf4c9b9641d7f2e23c870e">CASM::ConfigMapper::strict</a></div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8hh_source.html#l00023">ConfigMapping.hh:23</a></div></div>
<div class="ttc" id="json_struc_8hh_html"><div class="ttname"><a href="json_struc_8hh.html">jsonStruc.hh</a></div></div>
<div class="ttc" id="_handlers_8hh_html"><div class="ttname"><a href="_handlers_8hh.html">Handlers.hh</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_option_handler_base_html_a913f962e2f4e5e6faf5d0bfaafd4e490"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html#a913f962e2f4e5e6faf5d0bfaafd4e490">CASM::Completer::OptionHandlerBase::m_desc</a></div><div class="ttdeci">po::options_description m_desc</div><div class="ttdoc">Boost program options. All the derived classes have them, but will fill them up themselves. </div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00126">Handlers.hh:126</a></div></div>
<div class="ttc" id="group___prim_clex_html_gac7866b063025b7cf756214536ef63ca0"><div class="ttname"><a href="group___prim_clex.html#gac7866b063025b7cf756214536ef63ca0">CASM::PrimClex::settings</a></div><div class="ttdeci">ProjectSettings &amp; settings()</div><div class="ttdef"><b>Definition:</b> <a href="_prim_clex_8hh_source.html#l00116">PrimClex.hh:116</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_config_mapper_html"><div class="ttname"><a href="class_c_a_s_m_1_1_config_mapper.html">CASM::ConfigMapper</a></div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8hh_source.html#l00018">ConfigMapping.hh:18</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_ab1b9b10d35b01c7cd7fda38f5a7761a2"><div class="ttname"><a href="namespace_c_a_s_m.html#ab1b9b10d35b01c7cd7fda38f5a7761a2">CASM::find</a></div><div class="ttdeci">Iterator find(Iterator begin, Iterator end, const T &amp;value, BinaryCompare q)</div><div class="ttdoc">Equivalent to std::find(begin, end, value), but with custom comparison. </div><div class="ttdef"><b>Definition:</b> <a href="algorithm_8hh_source.html#l00010">algorithm.hh:10</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_prim_clex_html"><div class="ttname"><a href="class_c_a_s_m_1_1_prim_clex.html">CASM::PrimClex</a></div><div class="ttdoc">PrimClex is the top-level data structure for a CASM project. </div><div class="ttdef"><b>Definition:</b> <a href="_prim_clex_8hh_source.html#l00052">PrimClex.hh:52</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_update__impl_html_a51c3220214d8d2ecd891ecbfcd195966"><div class="ttname"><a href="namespace_c_a_s_m_1_1_update__impl.html#a51c3220214d8d2ecd891ecbfcd195966">CASM::Update_impl::Data</a></div><div class="ttdeci">std::tuple&lt; jsonParser, bool, bool &gt; Data</div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00016">update.cc:16</a></div></div>
<div class="ttc" id="_config_selection_8hh_html"><div class="ttname"><a href="_config_selection_8hh.html">ConfigSelection.hh</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_afc25aa6ab9114d01443ecf95d470e079"><div class="ttname"><a href="namespace_c_a_s_m.html#afc25aa6ab9114d01443ecf95d470e079">CASM::max</a></div><div class="ttdeci">T max(const T &amp;A, const T &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="_c_a_s_m__math_8hh_source.html#l00032">CASM_math.hh:32</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_a991c31f3495f343da4520f78f07e9755"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a991c31f3495f343da4520f78f07e9755">CASM::Completer::UpdateOption::max_va_frac</a></div><div class="ttdeci">double max_va_frac() const </div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00034">update.cc:34</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_a26cd52a7bbeefed065acb152e91bfedc"><div class="ttname"><a href="namespace_c_a_s_m.html#a26cd52a7bbeefed065acb152e91bfedc">CASM::simple_json</a></div><div class="ttdeci">SimpleJSonSiteStructure&lt; true &gt; simple_json(const BasicStructure&lt; Site &gt; &amp;struc, const std::string &amp;prefix)</div><div class="ttdef"><b>Definition:</b> <a href="json_struc_8hh_source.html#l00110">jsonStruc.hh:110</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html_a590a94dd00f0602da359d1ad7b8eb97e"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html#a590a94dd00f0602da359d1ad7b8eb97e">CASM::Configuration::name</a></div><div class="ttdeci">std::string name() const </div><div class="ttdoc">SCELV_A_B_C_D_E_F/i. </div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8cc_source.html#l00586">Configuration.cc:586</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_update__impl_html_ab464dce71f920dade14b4c94811cd5e8adad8c4cde34bddd98f7ed9dd7945bbdd"><div class="ttname"><a href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8adad8c4cde34bddd98f7ed9dd7945bbdd">CASM::Update_impl::relaxjson</a></div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00015">update.cc:15</a></div></div>
<div class="ttc" id="group___prim_clex_html_ga335438c034e41233c03519a7fa6d18e7"><div class="ttname"><a href="group___prim_clex.html#ga335438c034e41233c03519a7fa6d18e7">CASM::PrimClex::configuration</a></div><div class="ttdeci">const Configuration &amp; configuration(const std::string &amp;configname) const </div><div class="ttdoc">access configuration by name (of the form "scellname/[NUMBER]", e.g., ("SCEL1_1_1_1_0_0_0/0") ...</div><div class="ttdef"><b>Definition:</b> <a href="_prim_clex_8cc_source.html#l00347">PrimClex.cc:347</a></div></div>
<div class="ttc" id="_config_iterator_8hh_html"><div class="ttname"><a href="_config_iterator_8hh.html">ConfigIterator.hh</a></div></div>
<div class="ttc" id="group___prim_clex_html_gad4de87bde2054f611b2c8904b35bb374"><div class="ttname"><a href="group___prim_clex.html#gad4de87bde2054f611b2c8904b35bb374">CASM::PrimClex::print_supercells</a></div><div class="ttdeci">void print_supercells(std::set&lt; std::string &gt; scel_to_delete={}) const </div><div class="ttdef"><b>Definition:</b> <a href="_prim_clex_8cc_source.html#l00557">PrimClex.cc:557</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html_a0afdbb2143ca3487e86e2a6089384687"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html#a0afdbb2143ca3487e86e2a6089384687">CASM::Configuration::set_calc_properties</a></div><div class="ttdeci">void set_calc_properties(const jsonParser &amp;json)</div><div class="ttdoc">Read calculation results into the configuration. </div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8cc_source.html#l00464">Configuration.cc:464</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_config_mapper_html_afed4aeb3cad3c20ee5d9b7482d6dd669"><div class="ttname"><a href="class_c_a_s_m_1_1_config_mapper.html#afed4aeb3cad3c20ee5d9b7482d6dd669">CASM::ConfigMapper::set_max_va_frac</a></div><div class="ttdeci">void set_max_va_frac(double _max_va)</div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8hh_source.html#l00098">ConfigMapping.hh:98</a></div></div>
<div class="ttc" id="casm__functions_8hh_html"><div class="ttname"><a href="casm__functions_8hh.html">casm_functions.hh</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_a49ea99ea10cf0518ae13dddffa80335b"><div class="ttname"><a href="namespace_c_a_s_m.html#a49ea99ea10cf0518ae13dddffa80335b">CASM::Matrix3d</a></div><div class="ttdeci">Eigen::Matrix3d Matrix3d</div><div class="ttdef"><b>Definition:</b> <a href="_strain_converter_8hh_source.html#l00025">StrainConverter.hh:25</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html_a61aef0f7069782ef911f8882ac336e78"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html#a61aef0f7069782ef911f8882ac336e78">CASM::jsonParser::put_obj</a></div><div class="ttdeci">jsonParser &amp; put_obj()</div><div class="ttdoc">Puts new empty JSON object. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8hh_source.html#l00276">jsonParser.hh:276</a></div></div>
<div class="ttc" id="group___a_p_i_html_gadcface363f8ea6ba055f978e3859397b"><div class="ttname"><a href="group___a_p_i.html#gadcface363f8ea6ba055f978e3859397b">CASM::make_primclex_if_not</a></div><div class="ttdeci">PrimClex &amp; make_primclex_if_not(const CommandArgs &amp;args, std::unique_ptr&lt; PrimClex &gt; &amp;uniq_primclex)</div><div class="ttdoc">If !_primclex, construct new PrimClex stored in uniq_primclex, then return reference to existing or c...</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8cc_source.html#l00255">casm_functions.cc:255</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_ad62beaddae1ec3527869453744cfacf4"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad62beaddae1ec3527869453744cfacf4">CASM::Completer::UpdateOption::initialize</a></div><div class="ttdeci">void initialize() override</div><div class="ttdoc">Fill in the options descriptions accordingly. </div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00038">update.cc:38</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_option_handler_base_html"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_option_handler_base.html">CASM::Completer::OptionHandlerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="_handlers_8hh_source.html#l00098">Handlers.hh:98</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_ad99a0e17dc6a57e5725c05c1539c28f9"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#ad99a0e17dc6a57e5725c05c1539c28f9">CASM::Completer::UpdateOption::vol_tolerance</a></div><div class="ttdeci">double vol_tolerance() const </div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00026">update.cc:26</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html_a277aaf3d3e9512db905a5c4c1bd25066"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html#a277aaf3d3e9512db905a5c4c1bd25066">CASM::jsonParser::contains</a></div><div class="ttdeci">bool contains(const std::string &amp;name) const </div><div class="ttdoc">Return true if JSON object contains &#39;name&#39;. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8cc_source.html#l00500">jsonParser.cc:500</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_import__impl_html_a9ba4c7572b4f76374009b80af84a3d8ca8df396e95c9bd31111a8ede0ab7ebec4"><div class="ttname"><a href="namespace_c_a_s_m_1_1_import__impl.html#a9ba4c7572b4f76374009b80af84a3d8ca8df396e95c9bd31111a8ede0ab7ebec4">CASM::Import_impl::path</a></div><div class="ttdef"><b>Definition:</b> <a href="import_8cc_source.html#l00016">import.cc:16</a></div></div>
<div class="ttc" id="singleton_c_a_s_m_1_1_config_selection_html_a3e81a1dbe759546bc9dc2f555d7b30e8"><div class="ttname"><a href="singleton_c_a_s_m_1_1_config_selection.html#a3e81a1dbe759546bc9dc2f555d7b30e8">CASM::ConfigSelection::size</a></div><div class="ttdeci">Index size() const </div><div class="ttdef"><b>Definition:</b> <a href="_config_selection_8hh_source.html#l00126">ConfigSelection.hh:126</a></div></div>
<div class="ttc" id="struct_c_a_s_m_1_1_command_args_html_a559225fbd5e19cd7264f66ce3a47be6b"><div class="ttname"><a href="struct_c_a_s_m_1_1_command_args.html#a559225fbd5e19cd7264f66ce3a47be6b">CASM::CommandArgs::root</a></div><div class="ttdeci">fs::path root</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00114">casm_functions.hh:114</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_log_html_aa6313e66e6e36e519783bf14b444cc94"><div class="ttname"><a href="class_c_a_s_m_1_1_log.html#aa6313e66e6e36e519783bf14b444cc94">CASM::Log::error</a></div><div class="ttdeci">void error(const std::string &amp;what)</div><div class="ttdef"><b>Definition:</b> <a href="_log_8hh_source.html#l00086">Log.hh:86</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_1_1_update__impl_html_ab464dce71f920dade14b4c94811cd5e8a2b6ebfc84a8c0746c08ce57477faf081"><div class="ttname"><a href="namespace_c_a_s_m_1_1_update__impl.html#ab464dce71f920dade14b4c94811cd5e8a2b6ebfc84a8c0746c08ce57477faf081">CASM::Update_impl::new_config</a></div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00015">update.cc:15</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_completer_1_1_update_option_html_a62ee921c76f08dd455e2c9888d0c29d7"><div class="ttname"><a href="class_c_a_s_m_1_1_completer_1_1_update_option.html#a62ee921c76f08dd455e2c9888d0c29d7">CASM::Completer::UpdateOption::min_va_frac</a></div><div class="ttdeci">double min_va_frac() const </div><div class="ttdef"><b>Definition:</b> <a href="update_8cc_source.html#l00030">update.cc:30</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1json_parser_html_a4163fc18f954885bd85ff10aede1e708"><div class="ttname"><a href="class_c_a_s_m_1_1json_parser.html#a4163fc18f954885bd85ff10aede1e708">CASM::jsonParser::cbegin</a></div><div class="ttdeci">const_iterator cbegin() const </div><div class="ttdoc">Returns const_iterator to beginning of JSON object or JSON array. </div><div class="ttdef"><b>Definition:</b> <a href="json_parser_8cc_source.html#l00455">jsonParser.cc:455</a></div></div>
<div class="ttc" id="namespace_c_a_s_m_html_abc7407d254ef7d8c51af891b1a90c3f3"><div class="ttname"><a href="namespace_c_a_s_m.html#abc7407d254ef7d8c51af891b1a90c3f3">CASM::almost_equal</a></div><div class="ttdeci">bool almost_equal(const GenericCluster&lt; CoordType &gt; &amp;LHS, const GenericCluster&lt; CoordType &gt; &amp;RHS, double tol)</div><div class="ttdef"><b>Definition:</b> <a href="_cluster__impl_8hh_source.html#l00888">Cluster_impl.hh:888</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_configuration_html"><div class="ttname"><a href="class_c_a_s_m_1_1_configuration.html">CASM::Configuration</a></div><div class="ttdoc">A Configuration represents the values of all degrees of freedom in a Supercell. </div><div class="ttdef"><b>Definition:</b> <a href="_configuration_8hh_source.html#l00081">Configuration.hh:81</a></div></div>
<div class="ttc" id="class_c_a_s_m_1_1_config_mapper_html_a026d983b2cbfa910963390bd85413c73"><div class="ttname"><a href="class_c_a_s_m_1_1_config_mapper.html#a026d983b2cbfa910963390bd85413c73">CASM::ConfigMapper::import_structure_occupation</a></div><div class="ttdeci">bool import_structure_occupation(const fs::path &amp;pos_path, std::string &amp;imported_name, jsonParser &amp;relaxation_properties, std::vector&lt; Index &gt; &amp;best_assignment, Eigen::Matrix3d &amp;cart_op) const </div><div class="ttdoc">imports structure specified by &#39;pos_path&#39; into primclex() by finding optimal mapping and then setting...</div><div class="ttdef"><b>Definition:</b> <a href="_config_mapping_8cc_source.html#l00114">ConfigMapping.cc:114</a></div></div>
<div class="ttc" id="group___a_p_i_html_ga1b3a4d7f7b6f76cc1120b6314747feee"><div class="ttname"><a href="group___a_p_i.html#ga1b3a4d7f7b6f76cc1120b6314747feee">ERR_NO_PROJ</a></div><div class="ttdeci">#define ERR_NO_PROJ</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00036">casm_functions.hh:36</a></div></div>
<div class="ttc" id="group___a_p_i_html_gacab4217fdc9b38af93faf17a07e4040c"><div class="ttname"><a href="group___a_p_i.html#gacab4217fdc9b38af93faf17a07e4040c">ERR_INVALID_INPUT_FILE</a></div><div class="ttdeci">#define ERR_INVALID_INPUT_FILE</div><div class="ttdef"><b>Definition:</b> <a href="casm__functions_8hh_source.html#l00039">casm_functions.hh:39</a></div></div>
<div class="ttc" id="singleton_c_a_s_m_1_1_config_selection_html_a82d414b60e5c65b6e1c50e9c4eed9437"><div class="ttname"><a href="singleton_c_a_s_m_1_1_config_selection.html#a82d414b60e5c65b6e1c50e9c4eed9437">CASM::ConfigSelection::name</a></div><div class="ttdeci">const std::string &amp; name() const </div><div class="ttdef"><b>Definition:</b> <a href="_config_selection_8hh_source.html#l00230">ConfigSelection.hh:230</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5cfd736d3f72e24a1e41f845c72e1330.html">src</a></li><li class="navelem"><a class="el" href="dir_9bbf44b014308585d1c69daaee49072e.html">casm</a></li><li class="navelem"><a class="el" href="dir_2f7a36cc6527175f61298ce941436ad3.html">app</a></li><li class="navelem"><a class="el" href="update_8cc.html">update.cc</a></li>
    <li class="footer">Generated on Fri Aug 10 2018 02:19:27 for CASM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
